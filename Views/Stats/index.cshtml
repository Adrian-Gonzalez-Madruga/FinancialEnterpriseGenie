@{
    ViewData["Title"] = "statistics";
    Layout = "_Layout";
}

@section head {
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script>
        window.onload = function () {

            var chart = new CanvasJS.Chart("chartContainer", {
                @{ Graph graph = ViewBag.Graph;}
                animationEnabled: true,
                title: {
                    text:  "@Html.Raw(graph.name)"
                },
                toolTip: {
                    shared: @Html.Raw(graph.shared)
                },
                axisX: {
                    @if (graph.xValueFormatString != null) {<text>xValueType: "@Html.Raw(graph.xValueFormatString)",</text>}
                    @if (graph.xPrefix != null) {<text>prefix: "@Html.Raw(graph.xPrefix)",</text>}
                    @if (graph.xTitle != null) {<text>title: "@Html.Raw(graph.xTitle)",</text>}
                },
                axisY: {
                    @if (graph.yValueFormatString != null) {<text>xValueType: "@Html.Raw(graph.yValueFormatString)",</text>}
                    @if (graph.yPrefix != null) {<text>prefix: "@Html.Raw(graph.yPrefix)",</text>}
                    @if (graph.yTitle != null) {<text>title: "@Html.Raw(graph.yTitle)",</text>}
                    includeZero: true
                },
                data: [
                    @{ int count = graph.elements.Count;}
                    @for (int i = 0; i < count; i++) { <text>
                    {
                        @{Element element = graph.elements[i];}
                        type: "@Html.Raw(element.type)",
                        @if (element.xValueType != null) {<text>xValueType: "@Html.Raw(element.xValueType)",</text>}
                        @if (element.yValueType != null) {<text>yValueType: "@Html.Raw(element.yValueType)",</text>}
                        xValueFormatString: "@Html.Raw(element.xValueFormatString)",
                        yValueFormatString: "@Html.Raw(element.yValueFormatString)",
                        name: "@Html.Raw(element.name)",
                        showInLegend: true,
                        dataPoints: @Html.Raw(element.dataToJson())
                    }</text> @if (i < (count-1)) {<text>,</text>} }]
            });
            chart.render();

        }
    </script>
}

<div class="row m-3">
    <div class="col-4">
        <div class="form-block bg-grey">
            <div class="display-4">Icecream Sales</div>

            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dui eros, placerat nec pretium quis,
            imperdiet at lectus. Etiam lacinia sagittis elit, eget accumsan arcu facilisis vitae. Donec maximus mauris
            id tincidunt convallis. Maecenas ut sollicitudin nibh, nec porttitor est. Integer vitae sapien suscipit, iaculis arcu sed,
            aliquet massa. Sed ut rutrum erat, nec ultrices mauris. Vestibulum at ex sollicitudin, dignissim dolor a, tempus libero.

            <div class="vpad-sm"></div>
            <div class="row">
                <div class="col">
                    <div class="form-block bg-info text-light">
                        <div class="lead text-light">Extra Info</div>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dui eros, placerat nec pretium quis,
                        imperdiet at lectus. Etiam lacinia sagittis elit, eget accumsan arcu facilisis vitae. Donec maximus mauris
                        id tincidunt convallis. Maecenas ut sollicitudin nibh, nec porttitor est. Integer vitae sapien suscipit, iaculis arcu sed,
                        aliquet massa. Sed ut rutrum erat, nec ultrices mauris. Vestibulum at ex sollicitudin, dignissim dolor a, tempus libero.

                        <div class="vpad-sm"></div>
                        <div class="form-block bg-warning text-dark">
                            even more additional info
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="form-block bg-info text-light">
                        <div class="lead text-light">Extra Info</div>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dui eros, placerat nec pretium quis,
                        imperdiet at lectus. Etiam lacinia sagittis elit, eget accumsan arcu facilisis vitae. Donec maximus mauris
                    </div>
                    <br />
                    <div class="form-block bg-warning text-dark">
                        <div class="lead">Extra Info</div>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dui eros, placerat nec pretium quis,
                        imperdiet at lectus. Etiam lacinia sagittis elit, eget accumsan arcu facilisis vitae. Donec maximus mauris
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    <div class="col-8 border rounded">
        <div id="chartContainer" style="height: 100%; width: 100%;"></div>
    </div>
</div>

